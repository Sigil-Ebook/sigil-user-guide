<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" lang="en" xml:lang="en">
<head>
  <title>Saved Searches</title>
  <link href="../Styles/styles.css" type="text/css" rel="stylesheet"/>
</head>

<body>
  <h2 id="search_editor">Saved Searches</h2>

  <p class="h2subheading">— Saved Searches for Find &amp; Replace —</p>

  <p>If you have Find &amp; Replace searches that you routinely run – or complicated searches that you occasionally run but don’t want to have to recreate every time – you can save them in the Saved Searches dialog. Once saved, you can use the dialog to edit and run the searches.</p>

  <p>To open the Saved Searches dialog, select menu item <span class="menuitem">Tools=&gt;Saved Searches</span>, its keyboard shortcut, or toolbar button <img alt="Saved Searches icon." src="../Images/saved-searches-button.png"/>.</p>

  <div class="image">
    <img alt="Saved Searches main dialog." src="../Images/saved-searches-main.png"/>
  </div>


  <h3 class="sigil_not_in_toc">Context Menu Commands</h3>

  <p>Most actions concerning creating and editing saved searches are accessed using the right-click context menu:</p>

  <div class="image">
    <img alt="Saved Searches Context menu." src="../Images/saved-searches-context-menu.png"/>
  </div>

  <p>Select one or more saved search entries then right-click on the selection for the following options:</p>

  <ul>
    <li><span class="listheading">Add Entry:</span> Add a new blank search under the entry you clicked.</li>

    <li><span class="listheading">Add Group:</span> Add a new group under the entry you clicked.</li>

    <li class="first"><span class="listheading">Edit:</span> Edit or rename the entry (same as double-click).</li>

    <li class="first"><span class="listheading">Cut:</span> Delete one or more entries that can be pasted later.</li>

    <li><span class="listheading">Copy:</span> Copy one or more entries that can be pasted later.</li>

    <li><span class="listheading">Paste:</span> Paste any cut/copied entries.</li>

    <li class="first"><span class="listheading">Delete:</span> Delete selected entries or groups.</li>

    <li class="first"><span class="listheading">Import:</span> Read a list of exported entries from a file into the list.</li>

    <li><span class="listheading">Reload:</span> Restore the list from the last saved state.</li>

    <li class="first"><span class="listheading">Export:</span> Save selected entries to a file for sharing or backup.</li>

    <li><span class="listheading">Export All:</span> Save all entries to a file.</li>

    <li class="first"><span class="listheading">Collapse All:</span> Collapse the display of all groups.</li>

    <li><span class="listheading">Expand All:</span> Expand the display of all groups.</li>
	  
    <li class="first"><span class="listheading">Fill Controls:</span> Copy the first Controls value to all other entries in the same group that are highlighted via shift-click. I.e., if you want the same Controls for multiple entries in a Saved Search group, enter the Controls for the first entry, use shift-click to highlight the remaining entries that should use the same Controls, then select Fill Controls. (Requires Sigil 1.6.0 and higher.)</li>

  </ul>

  <div class="tip">
    <p class="tip">Selecting “Import…” will allow you to read in a new search group from a csv file, or from a previously saved Sigil ini file, or from a simple text file.</p>
  </div>
  
  <div class="tip">
    <p class="tip">To move search entries or groups, use the arrow keys or drag-and-drop.</p>

  	<p class="tip">To make a group of searches, first create the group, then move the search entries into the group.</p>
  </div>


  <h3 class="sigil_not_in_toc">Running Searches</h3>

  <p>The Saved Searches dialog can be used to run searches as well as manage them. All of the Find &amp; Replace action buttons are available in the Saved Searches dialog, so you do not need to open the Find &amp; Replace window to run a saved search.</p>

  <h4 class="sigil_not_in_toc"> Using Controls - Newly Added in Sigil 1.6.0</h4>

  <p>The “Controls” column allows you to set search mode, search direction, any search options and the search targets (the files to search).</p>

  <p>Controls are represented by two-character codes, which can be in any order, separated by commas or spaces:</p>
  
   <ul>
    <li><span class="listheading">NL</span> - Mode: Normal</li>
    <li><span class="listheading">RX</span> - Mode: Regular Expression</li>
    <li><span class="listheading">CS</span> - Mode: Case Sensitive</li>

    <li class="first"><span class="listheading">UP</span> - Direction: Up</li>
    <li><span class="listheading">DN</span> - Direction: Down</li>
    
   <li class="first"><span class="listheading">CF</span> - Target: Current File</li>
   <li><span class="listheading">AH</span> - Target: All HTML Files</li>
   <li><span class="listheading">SH</span> - Target: Selected HTML Files</li>
   <li><span class="listheading">TH</span> - Target: Tabbed HTML Files</li>
   <li><span class="listheading">AC</span> - Target: All CSS Files</li>
   <li><span class="listheading">SC</span> - Target: Selected CSS Files</li>
   <li><span class="listheading">TC</span> - Target: Tabbed CSS Files</li>
   <li><span class="listheading">OP</span> - Target: OPF File</li>
   <li><span class="listheading">NX</span> - Target: NCX File</li>
   <li><span class="listheading">SV</span> - Target: Selected SVG Files</li>
   <li><span class="listheading">SJ</span> - Target: Selected Javascript Files</li>
   <li><span class="listheading">SX</span> - Target: Selected Misc XML Files</li>


   <li class="first"><span class="listheading">DA</span> - Regex Option: DotAll</li>
   <li><span class="listheading">MM</span> - Regex Option: Minimal Match</li>
   <li><span class="listheading">AT</span> - Regex Option: Auto Tokenise</li>
   <li><span class="listheading">UN</span> - Regex Option: Unicode Property</li>
   <li><span class="listheading">WR</span> - Option: Wrap</li>
   <li><span class="listheading">TO</span> - Option: Text</li>
   </ul>

  <p>To edit the Controls, double-click in the Controls column of your search to see a Find &amp; Replace-like interface for setting the Mode, Options, Direction, and Targets.  Tooltips are provided to make quick overview of existing Controls settings simpler.</p>

  <div class="image">
    <img alt="Saved Searches Editing Controls." src="../Images/saved-searches-editing-controls.png"/>
  </div>


  <p>If the Controls field is left blank, then the search setting in the current Find &amp; Replace window will be used. If in doubt, open the Find &amp; Replace window to check what modes and options you last set, as that is what will be used when you run any saved search.</p>

  <p>To run a search, select an entry and click one of the action buttons: Find, Replace, Replace/Find, Replace All, Count All. Status messages will appear in the lower left corner of the Saved Searches dialog; they will also appear in the lower right corner of the Find &amp; Replace window if you have it open.</p>
  
    <div class="tip">
    <p class="tiptext">All Saved Searches are run using the mode, options, direction and targets set in the Controls column.</p>

    <p class="tiptext">To run a search only on the Current File, regardless of the mode setting, hold the <span class="shortcut">Ctrl</span> key down (on Mac: <span class="shortcut">Cmd</span> key) while clicking on an action button.</p>
  </div>

  <h3 class="sigil_not_in_toc">Running Multiple Searches at One Time</h3>

  <p>You can run multiple searches with a single button click if you:</p>
  
  	<ol>
  		<li>Select a group name instead of an individual entry,<br/>
  		<i>or</i></li>
  		<li>Select multiple non-group entries by holding down the <span class="shortcut">Ctrl</span> key (on Mac: <span class="shortcut">Cmd</span> key) while clicking on multiple individual entries.</li>
  	</ol>
  	
  	<p>Once selected, click <span class="buttonbox">Replace All</span>, and each search in the group or selection will run sequentially, one after another.  When running multiple searches in a group, the Controls value if blank will inherit the values of the previous search in the search grouping.   Setting the Controls for the first search of any search grouping will suffice.</p>
  

  <h3 class="sigil_not_in_toc">Save</h3>

		  <p>Once you are done creating and editing your searches, be sure to save them by clicking <span class="buttonbox">Save</span>.</p>

		  <p>To exit without saving your entries, close the window with the <span class="buttonbox">Close</span> button or <span class="shortcut">Esc</span> key, then confirm that you don’t want to save, if prompted. You can also use context menu <span class="menuitem">Reload</span> to reload your entries from disk, which will delete current unsaved entries.</p>

		  <p>Use the <span class="menuitem">Export</span> context menu item to save a copy of your searches so that they can be shared with others (who can then use <span class="menuitem">Import</span> to add them to their Sigil).</p>

		  <div class="tip">
			<p class="tiptext">If you save and are running more than one copy of Sigil, then the other instances of Sigil will automatically reload the newly saved searches to keep all copies in sync.</p>
		  </div>

  <h3 class="sigil_not_in_toc">Counts Report (New in Sigil 1.9.10)</h3>

  <p>This feature was introduced to take any user selected Saved Search Group and generate a report of the counts of all matches for each specific saved search in the group. This allows users to create custom report tables on the number of uses for any feature or tag (ie. lists, tables, images) that can be defined by a regular expression search.</p>

   <div class="image">
    <img alt="report of the number of matches by saved search in a saved search group" src="../Images/saved-search-counts-report.png"/>
   </div>

  <p>A pop-up context menu allows the user to export the Counts Report to a CSV file for subsequent processing in a spreadsheet.</p>

  <h3 class="sigil_not_in_toc">Filter</h3>

  <p>Use the filter text box to restrict the list of entries shown, making it easier to find the search you want.</p>

  <h3 class="sigil_not_in_toc">Load Search</h3>
  
  <p>If you prefer to run your searches from the Find &amp; Replace window, select the search from the Saved Searches dialog, then click <span class="buttonbox">Load Search</span>. It will then be loaded into the Find &amp; Replace window. Alternatively, you can right-click directly in the Find &amp; Replace text boxes and select a saved search from the context menu (see more below).</p>
  
  <p>Loading does not run the search – it is only a way to populate the fields in the Find &amp; Replace window.</p>

  <p>You do not need to use the <span class="buttonbox">Load Search</span> button if you are running a search from the Saved Searches dialog.</p>

  <div class="tip">
    <p class="tiptext">You can load a search using just the keyboard by using the shortcut to open Saved Searches, typing your search name in the filter box and hitting return (followed by Esc if you want to close the window).</p>
  </div>


  <h3 class="sigil_not_in_toc">Using Saved Searches from the Find &amp; Replace Box</h3>
  
  <p>You can access your saved searches directly from the Find &amp; Replace window (without ever opening the Saved Searches dialog) by right-clicking in the Find or Replace text field and bringing up the context menu.</p>
 
 	<p>Your saved searches will appear at the top of the context-menu. Select one to load it into the Find &amp; Replace window.</p>

   <div class="image">
    <img alt="Find and Replace using Context menu." src="../Images/saved-searches-find-replace-context-menu.png"/>
   </div>
  	
	<p>If you’ve run a search in the Find &amp; Replace window that you want to save, call up the context menu by right-clicking in the Find or Replace text field, then select <span class="menuitem">Save Search</span>.</p>
</body>
</html>